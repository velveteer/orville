<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Orville.PostgreSQL.Internal.OrvilleState</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">orville-postgresql-libpq-0.10.0.0: ORM</span><ul class="links" id="page-menu"><li><a href="src/Orville.PostgreSQL.Internal.OrvilleState.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Orville.PostgreSQL.Internal.OrvilleState</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:newOrvilleState">newOrvilleState</a> :: <a href="Orville-PostgreSQL-Internal-ErrorDetailLevel.html#t:ErrorDetailLevel" title="Orville.PostgreSQL.Internal.ErrorDetailLevel">ErrorDetailLevel</a> -&gt; <a href="Orville-PostgreSQL-Connection.html#t:Pool" title="Orville.PostgreSQL.Connection">Pool</a> <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:resetOrvilleState">resetOrvilleState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:orvilleConnectionPool">orvilleConnectionPool</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Connection.html#t:Pool" title="Orville.PostgreSQL.Connection">Pool</a> <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a></li><li class="src short"><a href="#v:orvilleConnectionState">orvilleConnectionState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectionState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectionState</a></li><li class="src short"><a href="#v:orvilleErrorDetailLevel">orvilleErrorDetailLevel</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-ErrorDetailLevel.html#t:ErrorDetailLevel" title="Orville.PostgreSQL.Internal.ErrorDetailLevel">ErrorDetailLevel</a></li><li class="src short"><a href="#v:orvilleTransactionCallback">orvilleTransactionCallback</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:orvilleSqlCommenterAttributes">orvilleSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a></li><li class="src short"><a href="#v:addTransactionCallback">addTransactionCallback</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TransactionEvent">TransactionEvent</a><ul class="subs"><li>= <a href="#v:BeginTransaction">BeginTransaction</a></li><li>| <a href="#v:NewSavepoint">NewSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li><li>| <a href="#v:ReleaseSavepoint">ReleaseSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li><li>| <a href="#v:RollbackToSavepoint">RollbackToSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li><li>| <a href="#v:CommitTransaction">CommitTransaction</a></li><li>| <a href="#v:RollbackTransaction">RollbackTransaction</a></li></ul></li><li class="src short"><a href="#v:openTransactionEvent">openTransactionEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a></li><li class="src short"><a href="#v:rollbackTransactionEvent">rollbackTransactionEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a></li><li class="src short"><a href="#v:transactionSuccessEvent">transactionSuccessEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasOrvilleState">HasOrvilleState</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:askOrvilleState">askOrvilleState</a> :: m <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li><a href="#v:localOrvilleState">localOrvilleState</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>) -&gt; m a -&gt; m a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectionState">ConnectionState</a><ul class="subs"><li>= <a href="#v:NotConnected">NotConnected</a></li><li>| <a href="#v:Connected">Connected</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectedState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectedState</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnectedState">ConnectedState</a> = <a href="#v:ConnectedState">ConnectedState</a> {<ul class="subs"><li><a href="#v:connectedConnection">connectedConnection</a> :: <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a></li><li><a href="#v:connectedTransaction">connectedTransaction</a> :: <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a></li></ul>}</li><li class="src short"><a href="#v:connectState">connectState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectedState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectedState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TransactionState">TransactionState</a><ul class="subs"><li>= <a href="#v:OutermostTransaction">OutermostTransaction</a></li><li>| <a href="#v:SavepointTransaction">SavepointTransaction</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li></ul></li><li class="src short"><a href="#v:newTransaction">newTransaction</a> :: <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Savepoint">Savepoint</a></li><li class="src short"><a href="#v:savepointNestingLevel">savepointNestingLevel</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:initialSavepoint">initialSavepoint</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li><li class="src short"><a href="#v:nextSavepoint">nextSavepoint</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></li><li class="src short"><a href="#v:orvilleSqlExecutionCallback">orvilleSqlExecutionCallback</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <span class="keyword">forall</span> a. <a href="Orville-PostgreSQL.html#t:QueryType" title="Orville.PostgreSQL">QueryType</a> -&gt; <a href="Orville-PostgreSQL-Internal-RawSql.html#t:RawSql" title="Orville.PostgreSQL.Internal.RawSql">RawSql</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:addSqlExecutionCallback">addSqlExecutionCallback</a> :: (<span class="keyword">forall</span> a. <a href="Orville-PostgreSQL.html#t:QueryType" title="Orville.PostgreSQL">QueryType</a> -&gt; <a href="Orville-PostgreSQL-Internal-RawSql.html#t:RawSql" title="Orville.PostgreSQL.Internal.RawSql">RawSql</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:orvilleBeginTransactionExpr">orvilleBeginTransactionExpr</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-Expr.html#t:BeginTransactionExpr" title="Orville.PostgreSQL.Internal.Expr">BeginTransactionExpr</a></li><li class="src short"><a href="#v:setBeginTransactionExpr">setBeginTransactionExpr</a> :: <a href="Orville-PostgreSQL-Internal-Expr.html#t:BeginTransactionExpr" title="Orville.PostgreSQL.Internal.Expr">BeginTransactionExpr</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:setSqlCommenterAttributes">setSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li><li class="src short"><a href="#v:addSqlCommenterAttributes">addSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OrvilleState" class="def">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#OrvilleState" class="link">Source</a> <a href="#t:OrvilleState" class="selflink">#</a></p><div class="doc"><p><code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> is used to manange opening connections to the database,
  transactions, etc. <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#v:newOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">newOrvilleState</a></code> should be used to create an appopriate
  initial state for your monad's context.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:OrvilleState">Instances</h4><details id="i:OrvilleState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OrvilleState:HasOrvilleState:1"></span> <a href="../base-4.14.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a> (<a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m)</span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-170" class="link">Source</a> <a href="#t:OrvilleState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OrvilleState:HasOrvilleState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askOrvilleState">askOrvilleState</a> :: <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#askOrvilleState" class="link">Source</a> <a href="#v:askOrvilleState" class="selflink">#</a></p><p class="src"><a href="#v:localOrvilleState">localOrvilleState</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>) -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m a <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#localOrvilleState" class="link">Source</a> <a href="#v:localOrvilleState" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:OrvilleState:MonadOrville:2"></span> (<a href="Orville-PostgreSQL.html#t:MonadOrvilleControl" title="Orville.PostgreSQL">MonadOrvilleControl</a> m, <a href="../base-4.14.1.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Orville-PostgreSQL.html#t:MonadOrville" title="Orville.PostgreSQL">MonadOrville</a> (<a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m)</span> <a href="src/Orville.PostgreSQL.Internal.MonadOrville.html#line-121" class="link">Source</a> <a href="#t:MonadOrville" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:OrvilleState:MonadOrville:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-MonadOrville.html">Orville.PostgreSQL.Internal.MonadOrville</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:newOrvilleState" class="def">newOrvilleState</a> :: <a href="Orville-PostgreSQL-Internal-ErrorDetailLevel.html#t:ErrorDetailLevel" title="Orville.PostgreSQL.Internal.ErrorDetailLevel">ErrorDetailLevel</a> -&gt; <a href="Orville-PostgreSQL-Connection.html#t:Pool" title="Orville.PostgreSQL.Connection">Pool</a> <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#newOrvilleState" class="link">Source</a> <a href="#v:newOrvilleState" class="selflink">#</a></p><div class="doc"><p>Creates a appropriate initial <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> that will use the connection
  pool given to initiate connections to the database.</p></div></div><div class="top"><p class="src"><a id="v:resetOrvilleState" class="def">resetOrvilleState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#resetOrvilleState" class="link">Source</a> <a href="#v:resetOrvilleState" class="selflink">#</a></p><div class="doc"><p>Creates a new initial <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> using the connection pool from the
  provide state. You might need to use this if you are spawning one Orville
  monad from another and they should not share the same connection and
  transaction state.</p></div></div><div class="top"><p class="src"><a id="v:orvilleConnectionPool" class="def">orvilleConnectionPool</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Connection.html#t:Pool" title="Orville.PostgreSQL.Connection">Pool</a> <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleConnectionPool" class="link">Source</a> <a href="#v:orvilleConnectionPool" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orvilleConnectionState" class="def">orvilleConnectionState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectionState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectionState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleConnectionState" class="link">Source</a> <a href="#v:orvilleConnectionState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orvilleErrorDetailLevel" class="def">orvilleErrorDetailLevel</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-ErrorDetailLevel.html#t:ErrorDetailLevel" title="Orville.PostgreSQL.Internal.ErrorDetailLevel">ErrorDetailLevel</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleErrorDetailLevel" class="link">Source</a> <a href="#v:orvilleErrorDetailLevel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orvilleTransactionCallback" class="def">orvilleTransactionCallback</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleTransactionCallback" class="link">Source</a> <a href="#v:orvilleTransactionCallback" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orvilleSqlCommenterAttributes" class="def">orvilleSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleSqlCommenterAttributes" class="link">Source</a> <a href="#v:orvilleSqlCommenterAttributes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addTransactionCallback" class="def">addTransactionCallback</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#addTransactionCallback" class="link">Source</a> <a href="#v:addTransactionCallback" class="selflink">#</a></p><div class="doc"><p>Registers a callback to be invoked during transactions.</p><p>The callback given will be called after the SQL statement corresponding
  to the given event has finished executing. Callbacks will be called
  in the order the are added.</p><p>Note: There is no specialized error handling for these callbacks. This means
  that if a callback raises an exception no further callbacks will be called
  and the exception will propagate up until it caught elsewhere. In particular,
  if an exception is raised by a callback upon opening the transaction it will
  cause the transaction to be rolled-back the same as any other exception that
  might happen during the transaction. In general, we recommend only using
  callbacks that either raise no exceptions or can handle their own exceptions
  cleanly.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TransactionEvent" class="def">TransactionEvent</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#TransactionEvent" class="link">Source</a> <a href="#t:TransactionEvent" class="selflink">#</a></p><div class="doc"><p>Describes an event in the lifecycle of a database transaction. You can use
  <code>addTransactionCallBack</code> to register a callback to respond to these events.
  The callback will be called after the even in question has been succesfully
  executed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BeginTransaction" class="def">BeginTransaction</a></td><td class="doc"><p>Indicates a new transaction has been started</p></td></tr><tr><td class="src"><a id="v:NewSavepoint" class="def">NewSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></td><td class="doc"><p>Indicates that a new savepoint has been saved within a transaction</p></td></tr><tr><td class="src"><a id="v:ReleaseSavepoint" class="def">ReleaseSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></td><td class="doc"><p>Indicates that a previous savepoint has been released. It can no
 longer be rolled back to.</p></td></tr><tr><td class="src"><a id="v:RollbackToSavepoint" class="def">RollbackToSavepoint</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></td><td class="doc"><p>Indicates that rollbac was performed to a prior savepoint.</p><p>Note: It is possible to rollback to a savepoint prior to the most recent
 one without releasing or rolling back to intermediate savepoints. Doing
 so destroys any savepoints created after given savepoint. Although
 Orville currently always matches <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#v:NewSavepoint" title="Orville.PostgreSQL.Internal.OrvilleState">NewSavepoint</a></code> with either
 <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#v:ReleaseSavepoint" title="Orville.PostgreSQL.Internal.OrvilleState">ReleaseSavepoint</a></code> or <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#v:RollbackToSavepoint" title="Orville.PostgreSQL.Internal.OrvilleState">RollbackToSavepoint</a></code>, it is recommended that you
 do not rely on this behavior.</p></td></tr><tr><td class="src"><a id="v:CommitTransaction" class="def">CommitTransaction</a></td><td class="doc"><p>Indicates that the transaction has been committed.</p></td></tr><tr><td class="src"><a id="v:RollbackTransaction" class="def">RollbackTransaction</a></td><td class="doc"><p>Indicates that the transaction has been rolled back.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TransactionEvent">Instances</h4><details id="i:TransactionEvent" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransactionEvent:Eq:1"></span> <a href="../base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a></span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-294" class="link">Source</a> <a href="#t:TransactionEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransactionEvent:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TransactionEvent:Show:2"></span> <a href="../base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a></span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-294" class="link">Source</a> <a href="#t:TransactionEvent" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TransactionEvent:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> -&gt; <a href="../base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a>] -&gt; <a href="../base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:openTransactionEvent" class="def">openTransactionEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#openTransactionEvent" class="link">Source</a> <a href="#v:openTransactionEvent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rollbackTransactionEvent" class="def">rollbackTransactionEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#rollbackTransactionEvent" class="link">Source</a> <a href="#v:rollbackTransactionEvent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:transactionSuccessEvent" class="def">transactionSuccessEvent</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionEvent" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionEvent</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#transactionSuccessEvent" class="link">Source</a> <a href="#v:transactionSuccessEvent" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasOrvilleState" class="def">HasOrvilleState</a> m <span class="keyword">where</span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#HasOrvilleState" class="link">Source</a> <a href="#t:HasOrvilleState" class="selflink">#</a></p><div class="doc"><p><code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a></code> is the typeclass that Orville uses to access and manange
  the connection pool and state tracking when it is being executed inside an
  unknown Monad. It is a specialized version of the Reader interface so that it
  can easily implemented by application Monads that already have a Reader
  context and want to simply add <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> as an attribute to that
  context, like so</p><pre>   data MyApplicationState =
     MyApplicationState
       { appConfig :: MyAppConfig
       , appOrvilleState :: OrvilleState
       }

   newtype MyApplicationMonad a =
     MyApplicationMonad (ReaderT MyApplicationState IO) a

   instance HasOrvilleState MyApplicationMonad where
     askOrvilleState =
       MyApplicationMonad (asks appOrvilleState)

     localOrvilleState f (MyApplicationMonad reader) =
       MyApplicationMonad $
         local
           (state -&gt; state { appOrvilleState = f (appOrvilleState state))
           reader
 </pre><p>An instance for 'ReaderT OrvilleState m' is provided as a convenience in
  the case that your application has no extra context to track.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:askOrvilleState" class="def">askOrvilleState</a> :: m <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#askOrvilleState" class="link">Source</a> <a href="#v:askOrvilleState" class="selflink">#</a></p><p class="src"><a id="v:localOrvilleState" class="def">localOrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#localOrvilleState" class="link">Source</a> <a href="#v:localOrvilleState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>)</td><td class="doc"><p>The function to modify the <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code></p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc"><p>The monad operation to execute with the modified state</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasOrvilleState">Instances</h4><details id="i:HasOrvilleState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasOrvilleState:HasOrvilleState:1"></span> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a> <a href="Orville-PostgreSQL.html#t:Orville" title="Orville.PostgreSQL">Orville</a></span> <a href="src/Orville.PostgreSQL.Internal.Orville.html#line-38" class="link">Source</a> <a href="#t:HasOrvilleState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasOrvilleState:HasOrvilleState:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-Orville.html">Orville.PostgreSQL.Internal.Orville</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askOrvilleState">askOrvilleState</a> :: <a href="Orville-PostgreSQL.html#t:Orville" title="Orville.PostgreSQL">Orville</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#askOrvilleState" class="link">Source</a> <a href="#v:askOrvilleState" class="selflink">#</a></p><p class="src"><a href="#v:localOrvilleState">localOrvilleState</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>) -&gt; <a href="Orville-PostgreSQL.html#t:Orville" title="Orville.PostgreSQL">Orville</a> a -&gt; <a href="Orville-PostgreSQL.html#t:Orville" title="Orville.PostgreSQL">Orville</a> a <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#localOrvilleState" class="link">Source</a> <a href="#v:localOrvilleState" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasOrvilleState:HasOrvilleState:2"></span> (<a href="../base-4.14.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a> m) =&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a> (<a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m)</span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-174" class="link">Source</a> <a href="#t:HasOrvilleState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasOrvilleState:HasOrvilleState:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askOrvilleState">askOrvilleState</a> :: <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#askOrvilleState" class="link">Source</a> <a href="#v:askOrvilleState" class="selflink">#</a></p><p class="src"><a href="#v:localOrvilleState">localOrvilleState</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>) -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#localOrvilleState" class="link">Source</a> <a href="#v:localOrvilleState" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasOrvilleState:HasOrvilleState:3"></span> <a href="../base-4.14.1.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:HasOrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">HasOrvilleState</a> (<a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m)</span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-170" class="link">Source</a> <a href="#t:HasOrvilleState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasOrvilleState:HasOrvilleState:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askOrvilleState">askOrvilleState</a> :: <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#askOrvilleState" class="link">Source</a> <a href="#v:askOrvilleState" class="selflink">#</a></p><p class="src"><a href="#v:localOrvilleState">localOrvilleState</a> :: (<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a>) -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m a -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> m a <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#localOrvilleState" class="link">Source</a> <a href="#v:localOrvilleState" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectionState" class="def">ConnectionState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#ConnectionState" class="link">Source</a> <a href="#t:ConnectionState" class="selflink">#</a></p><div class="doc"><p>INTERNAL: This type is used to signal whether a database connection has
  been retrieved from the pool for the current operation or not. The
  value is tracked in the <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> for the host monad, and is checked
  by <code>withConnection</code> to avoid checking out two separate connections for a
  multiple operations that needs to be run on the same connection (e.g.
  multiple operations inside a transaction).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NotConnected" class="def">NotConnected</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Connected" class="def">Connected</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectedState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectedState</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnectedState" class="def">ConnectedState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#ConnectedState" class="link">Source</a> <a href="#t:ConnectedState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConnectedState" class="def">ConnectedState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:connectedConnection" class="def">connectedConnection</a> :: <a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:connectedTransaction" class="def">connectedTransaction</a> :: <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:connectState" class="def">connectState</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:ConnectedState" title="Orville.PostgreSQL.Internal.OrvilleState">ConnectedState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#connectState" class="link">Source</a> <a href="#v:connectState" class="selflink">#</a></p><div class="doc"><p>INTERNAL: Transitions the <code><a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a></code> into &quot;connected&quot; status, storing
  the given <code><a href="Orville-PostgreSQL-Connection.html#t:Connection" title="Orville.PostgreSQL.Connection">Connection</a></code> as the database connection to be used to execute
  all queries. This is used by <code>withConnection</code> to track the connection it
  retrieves from the pool.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TransactionState" class="def">TransactionState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#TransactionState" class="link">Source</a> <a href="#t:TransactionState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:OutermostTransaction" class="def">OutermostTransaction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SavepointTransaction" class="def">SavepointTransaction</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:newTransaction" class="def">newTransaction</a> :: <a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:TransactionState" title="Orville.PostgreSQL.Internal.OrvilleState">TransactionState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#newTransaction" class="link">Source</a> <a href="#v:newTransaction" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Savepoint" class="def">Savepoint</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#Savepoint" class="link">Source</a> <a href="#t:Savepoint" class="selflink">#</a></p><div class="doc"><p>A internal Orville identifier for a savepoint in a PostgreSQL transaction.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Savepoint">Instances</h4><details id="i:Savepoint" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Savepoint:Eq:1"></span> <a href="../base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-254" class="link">Source</a> <a href="#t:Savepoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Savepoint:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Savepoint:Show:2"></span> <a href="../base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a></span> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#line-254" class="link">Source</a> <a href="#t:Savepoint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Savepoint:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Orville-PostgreSQL-Internal-OrvilleState.html">Orville.PostgreSQL.Internal.OrvilleState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a>] -&gt; <a href="../base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:savepointNestingLevel" class="def">savepointNestingLevel</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="../base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#savepointNestingLevel" class="link">Source</a> <a href="#v:savepointNestingLevel" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:initialSavepoint" class="def">initialSavepoint</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#initialSavepoint" class="link">Source</a> <a href="#v:initialSavepoint" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:nextSavepoint" class="def">nextSavepoint</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:Savepoint" title="Orville.PostgreSQL.Internal.OrvilleState">Savepoint</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#nextSavepoint" class="link">Source</a> <a href="#v:nextSavepoint" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:orvilleSqlExecutionCallback" class="def">orvilleSqlExecutionCallback</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <span class="keyword">forall</span> a. <a href="Orville-PostgreSQL.html#t:QueryType" title="Orville.PostgreSQL">QueryType</a> -&gt; <a href="Orville-PostgreSQL-Internal-RawSql.html#t:RawSql" title="Orville.PostgreSQL.Internal.RawSql">RawSql</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleSqlExecutionCallback" class="link">Source</a> <a href="#v:orvilleSqlExecutionCallback" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addSqlExecutionCallback" class="def">addSqlExecutionCallback</a> :: (<span class="keyword">forall</span> a. <a href="Orville-PostgreSQL.html#t:QueryType" title="Orville.PostgreSQL">QueryType</a> -&gt; <a href="Orville-PostgreSQL-Internal-RawSql.html#t:RawSql" title="Orville.PostgreSQL.Internal.RawSql">RawSql</a> -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#addSqlExecutionCallback" class="link">Source</a> <a href="#v:addSqlExecutionCallback" class="selflink">#</a></p><div class="doc"><p>Adds a callback to be called when an Orville operation executes a SQL
  statement. The callback is given the IO action that will perform the
  query execution and must call that action for the query to be run.
  In particular, you can use this to time query and log any that are slow.</p><p>Calls to any previously added callbacks will also be execute as part of
  the IO action passed to the new callback. Thus the newly added callback
  happens &quot;around&quot; the previously added callback.</p><p>There is no special exception handling done for these callbacks beyond what
  they implement themelves. Any callbacks should allow for the possibility that
  the IO action they are given may raise an exception.</p></div></div><div class="top"><p class="src"><a id="v:orvilleBeginTransactionExpr" class="def">orvilleBeginTransactionExpr</a> :: <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-Expr.html#t:BeginTransactionExpr" title="Orville.PostgreSQL.Internal.Expr">BeginTransactionExpr</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#orvilleBeginTransactionExpr" class="link">Source</a> <a href="#v:orvilleBeginTransactionExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setBeginTransactionExpr" class="def">setBeginTransactionExpr</a> :: <a href="Orville-PostgreSQL-Internal-Expr.html#t:BeginTransactionExpr" title="Orville.PostgreSQL.Internal.Expr">BeginTransactionExpr</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#setBeginTransactionExpr" class="link">Source</a> <a href="#v:setBeginTransactionExpr" class="selflink">#</a></p><div class="doc"><p>Sets the SQL expression that Orville will use to begin transactions. You can
  control the transaction isolation level by building your own
  <code><a href="Orville-PostgreSQL-Internal-Expr.html#t:BeginTransactionExpr" title="Orville.PostgreSQL.Internal.Expr">BeginTransactionExpr</a></code> with the desired isolation level.</p></div></div><div class="top"><p class="src"><a id="v:setSqlCommenterAttributes" class="def">setSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#setSqlCommenterAttributes" class="link">Source</a> <a href="#v:setSqlCommenterAttributes" class="selflink">#</a></p><div class="doc"><p>Sets the SqlCommenterAttributes that Orville will then add to any following statement executions.</p><p><em>Since: 0.10.0</em></p></div></div><div class="top"><p class="src"><a id="v:addSqlCommenterAttributes" class="def">addSqlCommenterAttributes</a> :: <a href="Orville-PostgreSQL-Internal-SqlCommenter.html#t:SqlCommenterAttributes" title="Orville.PostgreSQL.Internal.SqlCommenter">SqlCommenterAttributes</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> -&gt; <a href="Orville-PostgreSQL-Internal-OrvilleState.html#t:OrvilleState" title="Orville.PostgreSQL.Internal.OrvilleState">OrvilleState</a> <a href="src/Orville.PostgreSQL.Internal.OrvilleState.html#addSqlCommenterAttributes" class="link">Source</a> <a href="#v:addSqlCommenterAttributes" class="selflink">#</a></p><div class="doc"><p>Adds the SqlCommenterAttributes to the already existing that Orville will then add to any following statement executions.</p><p><em>Since: 0.10.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>
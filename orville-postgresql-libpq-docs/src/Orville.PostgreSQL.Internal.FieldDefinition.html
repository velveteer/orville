<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">{- |
Module    : Orville.PostgreSQL.Internal.FieldDefinition
Copyright : Flipstone Technology Partners 2016-2021
License   : MIT
-}</span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Orville.PostgreSQL.Internal.FieldDefinition</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier">FieldDefinition</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier">fieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDescription"><span class="hs-identifier">fieldDescription</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setFieldDescription"><span class="hs-identifier">setFieldDescription</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier">fieldType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldIsNotNullable"><span class="hs-identifier">fieldIsNotNullable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDefaultValue"><span class="hs-identifier">fieldDefaultValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNullability"><span class="hs-identifier">fieldNullability</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setField"><span class="hs-identifier">setField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#.%3A%3D"><span class="hs-operator">(.:=)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldNullability"><span class="hs-identifier">FieldNullability</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueToSqlValue"><span class="hs-identifier">fieldValueToSqlValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueFromSqlValue"><span class="hs-identifier">fieldValueFromSqlValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnName"><span class="hs-identifier">fieldColumnName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnDefinition"><span class="hs-identifier">fieldColumnDefinition</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier">FieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#stringToFieldName"><span class="hs-identifier">stringToFieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToString"><span class="hs-identifier">fieldNameToString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToColumnName"><span class="hs-identifier">fieldNameToColumnName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToByteString"><span class="hs-identifier">fieldNameToByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#byteStringToFieldName"><span class="hs-identifier">byteStringToFieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier">NotNull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier">Nullable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#convertField"><span class="hs-identifier">convertField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#coerceField"><span class="hs-identifier">coerceField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#nullableField"><span class="hs-identifier">nullableField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#asymmetricNullableField"><span class="hs-identifier">asymmetricNullableField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setDefaultValue"><span class="hs-identifier">setDefaultValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#removeDefaultValue"><span class="hs-identifier">removeDefaultValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#prefixField"><span class="hs-identifier">prefixField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#integerField"><span class="hs-identifier">integerField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#serialField"><span class="hs-identifier">serialField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#smallIntegerField"><span class="hs-identifier">smallIntegerField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigIntegerField"><span class="hs-identifier">bigIntegerField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigSerialField"><span class="hs-identifier">bigSerialField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#doubleField"><span class="hs-identifier">doubleField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#booleanField"><span class="hs-identifier">booleanField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#unboundedTextField"><span class="hs-identifier">unboundedTextField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#boundedTextField"><span class="hs-identifier">boundedTextField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fixedTextField"><span class="hs-identifier">fixedTextField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#textSearchVectorField"><span class="hs-identifier">textSearchVectorField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#dateField"><span class="hs-identifier">dateField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#utcTimestampField"><span class="hs-identifier">utcTimestampField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#localTimestampField"><span class="hs-identifier">localTimestampField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#uuidField"><span class="hs-identifier">uuidField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier">fieldOfType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Char8</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B8</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Coerce</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Coerce</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Time</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UUID</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html"><span class="hs-identifier">Orville.PostgreSQL.Internal.DefaultValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#DefaultValue"><span class="hs-identifier">DefaultValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#coerceDefaultValue"><span class="hs-identifier">coerceDefaultValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#defaultValueExpression"><span class="hs-identifier">defaultValueExpression</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.html"><span class="hs-identifier">Orville.PostgreSQL.Internal.Expr</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Expr</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html"><span class="hs-identifier">Orville.PostgreSQL.Internal.SqlType</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SqlType</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlValue.html"><span class="hs-identifier">Orville.PostgreSQL.Internal.SqlValue</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SqlValue</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">newtype</span><span> </span><span id="FieldName"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-var">FieldName</span></a></span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="FieldName"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-var">FieldName</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">B8.ByteString</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679118162"><span id="local-6989586621679118164"><span class="annot"><span class="annottext">FieldName -&gt; FieldName -&gt; Bool
(FieldName -&gt; FieldName -&gt; Bool)
-&gt; (FieldName -&gt; FieldName -&gt; Bool) -&gt; Eq FieldName
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldName -&gt; FieldName -&gt; Bool
$c/= :: FieldName -&gt; FieldName -&gt; Bool
== :: FieldName -&gt; FieldName -&gt; Bool
$c== :: FieldName -&gt; FieldName -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679118146"><span id="local-6989586621679118148"><span id="local-6989586621679118150"><span id="local-6989586621679118152"><span id="local-6989586621679118154"><span id="local-6989586621679118156"><span id="local-6989586621679118158"><span class="annot"><span class="annottext">Eq FieldName
Eq FieldName
-&gt; (FieldName -&gt; FieldName -&gt; Ordering)
-&gt; (FieldName -&gt; FieldName -&gt; Bool)
-&gt; (FieldName -&gt; FieldName -&gt; Bool)
-&gt; (FieldName -&gt; FieldName -&gt; Bool)
-&gt; (FieldName -&gt; FieldName -&gt; Bool)
-&gt; (FieldName -&gt; FieldName -&gt; FieldName)
-&gt; (FieldName -&gt; FieldName -&gt; FieldName)
-&gt; Ord FieldName
FieldName -&gt; FieldName -&gt; Bool
FieldName -&gt; FieldName -&gt; Ordering
FieldName -&gt; FieldName -&gt; FieldName
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: FieldName -&gt; FieldName -&gt; FieldName
$cmin :: FieldName -&gt; FieldName -&gt; FieldName
max :: FieldName -&gt; FieldName -&gt; FieldName
$cmax :: FieldName -&gt; FieldName -&gt; FieldName
&gt;= :: FieldName -&gt; FieldName -&gt; Bool
$c&gt;= :: FieldName -&gt; FieldName -&gt; Bool
&gt; :: FieldName -&gt; FieldName -&gt; Bool
$c&gt; :: FieldName -&gt; FieldName -&gt; Bool
&lt;= :: FieldName -&gt; FieldName -&gt; Bool
$c&lt;= :: FieldName -&gt; FieldName -&gt; Bool
&lt; :: FieldName -&gt; FieldName -&gt; Bool
$c&lt; :: FieldName -&gt; FieldName -&gt; Bool
compare :: FieldName -&gt; FieldName -&gt; Ordering
$ccompare :: FieldName -&gt; FieldName -&gt; Ordering
$cp1Ord :: Eq FieldName
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679118139"><span id="local-6989586621679118141"><span id="local-6989586621679118143"><span class="annot"><span class="annottext">Int -&gt; FieldName -&gt; ShowS
[FieldName] -&gt; ShowS
FieldName -&gt; String
(Int -&gt; FieldName -&gt; ShowS)
-&gt; (FieldName -&gt; String)
-&gt; ([FieldName] -&gt; ShowS)
-&gt; Show FieldName
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldName] -&gt; ShowS
$cshowList :: [FieldName] -&gt; ShowS
show :: FieldName -&gt; String
$cshow :: FieldName -&gt; String
showsPrec :: Int -&gt; FieldName -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldName -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToColumnName"><span class="hs-identifier hs-type">fieldNameToColumnName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.Name.ColumnName.html#ColumnName"><span class="hs-identifier hs-type">Expr.ColumnName</span></a></span><span>
</span><span id="line-76"></span><span id="fieldNameToColumnName"><span class="annot"><span class="annottext">fieldNameToColumnName :: FieldName -&gt; ColumnName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToColumnName"><span class="hs-identifier hs-var hs-var">fieldNameToColumnName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span id="local-6989586621679118137"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679118137"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><span class="annottext">Identifier -&gt; ColumnName
forall name. IdentifierExpression name =&gt; Identifier -&gt; name
</span><a href="Orville.PostgreSQL.Internal.Expr.Name.Identifier.html#fromIdentifier"><span class="hs-identifier hs-var">Expr.fromIdentifier</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Identifier
</span><a href="Orville.PostgreSQL.Internal.Expr.Name.Identifier.html#identifierFromBytes"><span class="hs-identifier hs-var">Expr.identifierFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679118137"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#stringToFieldName"><span class="hs-identifier hs-type">stringToFieldName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span>
</span><span id="line-80"></span><span id="stringToFieldName"><span class="annot"><span class="annottext">stringToFieldName :: String -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#stringToFieldName"><span class="hs-identifier hs-var hs-var">stringToFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-var">FieldName</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; FieldName)
-&gt; (String -&gt; ByteString) -&gt; String -&gt; FieldName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString
</span><span class="hs-identifier hs-var">B8.pack</span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToString"><span class="hs-identifier hs-type">fieldNameToString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-84"></span><span id="fieldNameToString"><span class="annot"><span class="annottext">fieldNameToString :: FieldName -&gt; String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToString"><span class="hs-identifier hs-var hs-var">fieldNameToString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><span class="hs-identifier hs-var">B8.unpack</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; String)
-&gt; (FieldName -&gt; ByteString) -&gt; FieldName -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; ByteString
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToByteString"><span class="hs-identifier hs-var">fieldNameToByteString</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToByteString"><span class="hs-identifier hs-type">fieldNameToByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B8.ByteString</span></span><span>
</span><span id="line-88"></span><span id="fieldNameToByteString"><span class="annot"><span class="annottext">fieldNameToByteString :: FieldName -&gt; ByteString
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToByteString"><span class="hs-identifier hs-var hs-var">fieldNameToByteString</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span id="local-6989586621679118131"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679118131"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679118131"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#byteStringToFieldName"><span class="hs-identifier hs-type">byteStringToFieldName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B8.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span>
</span><span id="line-92"></span><span id="byteStringToFieldName"><span class="annot"><span class="annottext">byteStringToFieldName :: ByteString -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#byteStringToFieldName"><span class="hs-identifier hs-var hs-var">byteStringToFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-var">FieldName</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">{- |
  'FieldDefinition' determines the SQL constsruction of a column in the
  database, comprising the name, SQL type and whether the field is nullable.
  A 'FieldDefinition' is matched to a particular Haskell type, which it knows
  how to marshall to and from the database representation of SQL type for
  the field.
-}</span><span>
</span><span id="line-101"></span><span class="hs-keyword">data</span><span> </span><span id="FieldDefinition"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-var">FieldDefinition</span></a></span></span><span> </span><span id="local-6989586621679118308"><span class="annot"><a href="#local-6989586621679118308"><span class="hs-identifier hs-type">nullability</span></a></span></span><span> </span><span id="local-6989586621679118307"><span class="annot"><a href="#local-6989586621679118307"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FieldDefinition"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-var">FieldDefinition</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="i_fieldName"><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var hs-var">i_fieldName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="i_fieldType"><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var hs-var">i_fieldType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118307"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="i_fieldNullability"><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var hs-var">i_fieldNullability</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullabilityGADT"><span class="hs-identifier hs-type">NullabilityGADT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118308"><span class="hs-identifier hs-type">nullability</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="i_fieldDefaultValue"><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#DefaultValue"><span class="hs-identifier hs-type">DefaultValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118307"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="i_fieldDescription"><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var hs-var">i_fieldDescription</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">{- |
  The name used in database queries to reference the field.
-}</span><span>
</span><span id="line-112"></span><span id="local-6989586621679118123"><span id="local-6989586621679118124"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118124"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118123"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span></span></span><span>
</span><span id="line-113"></span><span id="fieldName"><span class="annot"><span class="annottext">fieldName :: FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-var hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; FieldName
forall nullability a. FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var hs-var">i_fieldName</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">{- |
  Returns the description that was passed to 'setFieldDescription', if any.
-}</span><span>
</span><span id="line-118"></span><span id="local-6989586621679118121"><span id="local-6989586621679118122"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDescription"><span class="hs-identifier hs-type">fieldDescription</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118122"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118121"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span></span><span>
</span><span id="line-119"></span><span id="fieldDescription"><span class="annot"><span class="annottext">fieldDescription :: FieldDefinition nullability a -&gt; Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDescription"><span class="hs-identifier hs-var hs-var">fieldDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe String
forall nullability a. FieldDefinition nullability a -&gt; Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var hs-var">i_fieldDescription</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">{- |
  Sets the description for the field. This description not currently used
  anywhere by Orville itself, but users can retrieve the description via
  'fieldDescription' for their own purposes (e.g. generating documentation).
-}</span><span>
</span><span id="line-126"></span><span id="local-6989586621679118119"><span id="local-6989586621679118120"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setFieldDescription"><span class="hs-identifier hs-type">setFieldDescription</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118120"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118119"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118120"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118119"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-127"></span><span id="setFieldDescription"><span class="annot"><span class="annottext">setFieldDescription :: String
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setFieldDescription"><span class="hs-identifier hs-var hs-var">setFieldDescription</span></a></span></span><span> </span><span id="local-6989586621679118118"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118118"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span id="local-6989586621679118117"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118117"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118117"><span class="hs-identifier hs-var">fieldDef</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldDescription :: Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var">i_fieldDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118118"><span class="hs-identifier hs-var">description</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">{- |
  The 'SqlType' for the 'FieldDefinition' determines the PostgreSQL data type
  used to define the field as well as how to mashall Haskell values to and
  from the database.
-}</span><span>
</span><span id="line-137"></span><span id="local-6989586621679118115"><span id="local-6989586621679118116"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-type">fieldType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118116"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118115"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118115"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-138"></span><span id="fieldType"><span class="annot"><span class="annottext">fieldType :: FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var hs-var">fieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var hs-var">i_fieldType</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">{- |
  Returns the default value definition for the field, if any has been set.
-}</span><span>
</span><span id="line-143"></span><span id="local-6989586621679118113"><span id="local-6989586621679118114"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDefaultValue"><span class="hs-identifier hs-type">fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118114"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#DefaultValue"><span class="hs-identifier hs-type">DefaultValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118113"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-144"></span><span id="fieldDefaultValue"><span class="annot"><span class="annottext">fieldDefaultValue :: FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDefaultValue"><span class="hs-identifier hs-var hs-var">fieldDefaultValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
forall nullability a.
FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">{- |
 A 'FieldNullability' is returned by the 'fieldNullability' function, which
 can be used when a function works on both 'Nullable' and 'NotNull' functions
 but needs to deal with each type of field separately. It adds wrapper
 constructors around the 'FieldDefinition' that you can pattern match on to
 then work with a concrete 'Nullable' or 'NotNull' field.
-}</span><span>
</span><span id="line-153"></span><span class="hs-keyword">data</span><span> </span><span id="FieldNullability"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldNullability"><span class="hs-identifier hs-var">FieldNullability</span></a></span></span><span> </span><span id="local-6989586621679118293"><span class="annot"><a href="#local-6989586621679118293"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NullableField"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableField"><span class="hs-identifier hs-var">NullableField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118293"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NotNullField"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullField"><span class="hs-identifier hs-var">NotNullField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118293"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">{- |
 Resolves the 'nullablity' of a field to a concrete type, which is returned
 via the 'FieldNullability' type. You can pattern match on this type to then
 extract the either 'Nullable' or 'NotNull' not field for cases where you
 may require different logic based on the nullability of a field.
-}</span><span>
</span><span id="line-163"></span><span id="local-6989586621679118260"><span id="local-6989586621679118261"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNullability"><span class="hs-identifier hs-type">fieldNullability</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118261"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118260"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldNullability"><span class="hs-identifier hs-type">FieldNullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118260"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-164"></span><span id="fieldNullability"><span class="annot"><span class="annottext">fieldNullability :: FieldDefinition nullability a -&gt; FieldNullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNullability"><span class="hs-identifier hs-var hs-var">fieldNullability</span></a></span></span><span> </span><span id="local-6989586621679118110"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118110"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; NullabilityGADT nullability
forall nullability a.
FieldDefinition nullability a -&gt; NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var hs-var">i_fieldNullability</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118110"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><span class="annottext">NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableGADT"><span class="hs-identifier hs-var">NullableGADT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a -&gt; FieldNullability a
forall a. FieldDefinition Nullable a -&gt; FieldNullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableField"><span class="hs-identifier hs-var">NullableField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
FieldDefinition Nullable a
</span><a href="#local-6989586621679118110"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullGADT"><span class="hs-identifier hs-var">NotNullGADT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a -&gt; FieldNullability a
forall a. FieldDefinition NotNull a -&gt; FieldNullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullField"><span class="hs-identifier hs-var">NotNullField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
FieldDefinition NotNull a
</span><a href="#local-6989586621679118110"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">{- |
  Indicates whether a field is nullable.
-}</span><span>
</span><span id="line-172"></span><span id="local-6989586621679118106"><span id="local-6989586621679118107"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldIsNotNullable"><span class="hs-identifier hs-type">fieldIsNotNullable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118107"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118106"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-173"></span><span id="fieldIsNotNullable"><span class="annot"><span class="annottext">fieldIsNotNullable :: FieldDefinition nullability a -&gt; Bool
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldIsNotNullable"><span class="hs-identifier hs-var hs-var">fieldIsNotNullable</span></a></span></span><span> </span><span id="local-6989586621679118105"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118105"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; NullabilityGADT nullability
forall nullability a.
FieldDefinition nullability a -&gt; NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var hs-var">i_fieldNullability</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118105"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><span class="annottext">NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableGADT"><span class="hs-identifier hs-var">NullableGADT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><span class="annottext">NullabilityGADT nullability
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullGADT"><span class="hs-identifier hs-var">NotNullGADT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">{- |
  Mashalls a Haskell value to be stored in the field to its 'SqlValue'
  representation.
-}</span><span>
</span><span id="line-182"></span><span id="local-6989586621679118214"><span id="local-6989586621679118215"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueToSqlValue"><span class="hs-identifier hs-type">fieldValueToSqlValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118215"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118214"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679118214"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlValue.html#SqlValue"><span class="hs-identifier hs-type">SqlValue.SqlValue</span></a></span></span></span><span>
</span><span id="line-183"></span><span id="fieldValueToSqlValue"><span class="annot"><span class="annottext">fieldValueToSqlValue :: FieldDefinition nullability a -&gt; a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueToSqlValue"><span class="hs-identifier hs-var hs-var">fieldValueToSqlValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><span class="annottext">SqlType a -&gt; a -&gt; SqlValue
forall a. SqlType a -&gt; a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeToSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeToSql</span></a></span><span> </span><span class="annot"><span class="annottext">(SqlType a -&gt; a -&gt; SqlValue)
-&gt; (FieldDefinition nullability a -&gt; SqlType a)
-&gt; FieldDefinition nullability a
-&gt; a
-&gt; SqlValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var">fieldType</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-comment">{- |
  Marshalls a 'SqlValue' from the database into the Haskell value that represents it.
  This may fail, in which case a 'Left' is returned with an error message.
-}</span><span>
</span><span id="line-190"></span><span id="local-6989586621679118102"><span id="local-6989586621679118103"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueFromSqlValue"><span class="hs-identifier hs-type">fieldValueFromSqlValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118103"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118102"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlValue.html#SqlValue"><span class="hs-identifier hs-type">SqlValue.SqlValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="#local-6989586621679118102"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-191"></span><span id="fieldValueFromSqlValue"><span class="annot"><span class="annottext">fieldValueFromSqlValue :: FieldDefinition nullability a -&gt; SqlValue -&gt; Either String a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueFromSqlValue"><span class="hs-identifier hs-var hs-var">fieldValueFromSqlValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlValue -&gt; Either String a
forall a. SqlType a -&gt; SqlValue -&gt; Either String a
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeFromSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeFromSql</span></a></span><span> </span><span class="annot"><span class="annottext">(SqlType a -&gt; SqlValue -&gt; Either String a)
-&gt; (FieldDefinition nullability a -&gt; SqlType a)
-&gt; FieldDefinition nullability a
-&gt; SqlValue
-&gt; Either String a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var">fieldType</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">{- |
  Constructs the 'Expr.ColumnName' for a field for use in SQL expressions
  from the 'Expr' module.
-}</span><span>
</span><span id="line-198"></span><span id="local-6989586621679118274"><span id="local-6989586621679118275"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnName"><span class="hs-identifier hs-type">fieldColumnName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118275"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118274"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.Name.ColumnName.html#ColumnName"><span class="hs-identifier hs-type">Expr.ColumnName</span></a></span></span></span><span>
</span><span id="line-199"></span><span id="fieldColumnName"><span class="annot"><span class="annottext">fieldColumnName :: FieldDefinition nullability a -&gt; ColumnName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnName"><span class="hs-identifier hs-var hs-var">fieldColumnName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><span class="annottext">FieldName -&gt; ColumnName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToColumnName"><span class="hs-identifier hs-var">fieldNameToColumnName</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldName -&gt; ColumnName)
-&gt; (FieldDefinition nullability a -&gt; FieldName)
-&gt; FieldDefinition nullability a
-&gt; ColumnName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; FieldName
forall nullability a. FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">{- |
  Constructions the equivalant 'Expr.FieldDefinition' as a SQL expression,
  generally for use in DDL for creating column in a table.
-}</span><span>
</span><span id="line-206"></span><span id="local-6989586621679118099"><span id="local-6989586621679118100"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnDefinition"><span class="hs-identifier hs-type">fieldColumnDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118100"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118099"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#ColumnDefinition"><span class="hs-identifier hs-type">Expr.ColumnDefinition</span></a></span></span></span><span>
</span><span id="line-207"></span><span id="fieldColumnDefinition"><span class="annot"><span class="annottext">fieldColumnDefinition :: FieldDefinition nullability a -&gt; ColumnDefinition
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnDefinition"><span class="hs-identifier hs-var hs-var">fieldColumnDefinition</span></a></span></span><span> </span><span id="local-6989586621679118098"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118098"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">ColumnName
-&gt; DataType
-&gt; Maybe ColumnConstraint
-&gt; Maybe ColumnDefault
-&gt; ColumnDefinition
</span><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#columnDefinition"><span class="hs-identifier hs-var">Expr.columnDefinition</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; ColumnName
forall nullability a. FieldDefinition nullability a -&gt; ColumnName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnName"><span class="hs-identifier hs-var">fieldColumnName</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118098"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqlType a -&gt; DataType
forall a. SqlType a -&gt; DataType
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeExpr"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(SqlType a -&gt; DataType) -&gt; SqlType a -&gt; DataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var">fieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118098"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnConstraint -&gt; Maybe ColumnConstraint
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ColumnConstraint -&gt; Maybe ColumnConstraint)
-&gt; ColumnConstraint -&gt; Maybe ColumnConstraint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; ColumnConstraint
forall nullabily a. FieldDefinition nullabily a -&gt; ColumnConstraint
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnConstraint"><span class="hs-identifier hs-var">fieldColumnConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118098"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DefaultValue a -&gt; ColumnDefault)
-&gt; Maybe (DefaultValue a) -&gt; Maybe ColumnDefault
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValueExpression -&gt; ColumnDefault
</span><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#columnDefault"><span class="hs-identifier hs-var">Expr.columnDefault</span></a></span><span> </span><span class="annot"><span class="annottext">(ValueExpression -&gt; ColumnDefault)
-&gt; (DefaultValue a -&gt; ValueExpression)
-&gt; DefaultValue a
-&gt; ColumnDefault
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefaultValue a -&gt; ValueExpression
forall a. DefaultValue a -&gt; ValueExpression
</span><a href="Orville.PostgreSQL.Internal.DefaultValue.html#defaultValueExpression"><span class="hs-identifier hs-var">defaultValueExpression</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (DefaultValue a) -&gt; Maybe ColumnDefault)
-&gt; Maybe (DefaultValue a) -&gt; Maybe ColumnDefault
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
forall nullability a.
FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118098"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">{- |
  INTERNAL - Builds the appropriate ColumnConstraint for a field. Currently
  this only handles nullability, but if we add support for more constraints
  directly on columns it may end up handling those as well.
-}</span><span>
</span><span id="line-219"></span><span id="local-6989586621679118269"><span id="local-6989586621679118270"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnConstraint"><span class="hs-identifier hs-type">fieldColumnConstraint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118270"><span class="hs-identifier hs-type">nullabily</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118269"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#ColumnConstraint"><span class="hs-identifier hs-type">Expr.ColumnConstraint</span></a></span></span></span><span>
</span><span id="line-220"></span><span id="fieldColumnConstraint"><span class="annot"><span class="annottext">fieldColumnConstraint :: FieldDefinition nullabily a -&gt; ColumnConstraint
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnConstraint"><span class="hs-identifier hs-var hs-var">fieldColumnConstraint</span></a></span></span><span> </span><span id="local-6989586621679118093"><span class="annot"><span class="annottext">FieldDefinition nullabily a
</span><a href="#local-6989586621679118093"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullabily a -&gt; FieldNullability a
forall nullability a.
FieldDefinition nullability a -&gt; FieldNullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNullability"><span class="hs-identifier hs-var">fieldNullability</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullabily a
</span><a href="#local-6989586621679118093"><span class="hs-identifier hs-var">fieldDef</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullField"><span class="hs-identifier hs-type">NotNullField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">ColumnConstraint
</span><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#notNullConstraint"><span class="hs-identifier hs-var">Expr.notNullConstraint</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableField"><span class="hs-identifier hs-type">NullableField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><span class="annottext">ColumnConstraint
</span><a href="Orville.PostgreSQL.Internal.Expr.ColumnDefinition.html#nullConstraint"><span class="hs-identifier hs-var">Expr.nullConstraint</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">{- |
  The type in considered internal because it requires GADTs to make use of
  it meaningfully. The 'FieldNullability' type is used as the public interface
  to surface this information to users outside the module.

  The 'NullabilityGADT' represents whether a field will be marked as 'NULL' or
  'NOT NULL' in the database schema. It is a GADT so that the value
  constructors can be used to record this knowledge in the type system as well.
  This allows functions that work only on 'Nullable' or 'NotNull' fields to
  indicate this in their type signatures as appropriate.
-}</span><span>
</span><span id="line-238"></span><span class="hs-keyword">data</span><span> </span><span id="NullabilityGADT"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullabilityGADT"><span class="hs-identifier hs-var">NullabilityGADT</span></a></span></span><span> </span><span id="local-6989586621679118090"><span class="annot"><a href="#local-6989586621679118090"><span class="hs-identifier hs-type">nullability</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-239"></span><span>  </span><span id="NullableGADT"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableGADT"><span class="hs-identifier hs-var">NullableGADT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullabilityGADT"><span class="hs-identifier hs-type">NullabilityGADT</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span>
</span><span id="line-240"></span><span>  </span><span id="NotNullGADT"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullGADT"><span class="hs-identifier hs-var">NotNullGADT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullabilityGADT"><span class="hs-identifier hs-type">NullabilityGADT</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">{- |
  'NotNull' is a values-less type used to track that a 'FieldDefinition'
  represents a field that is marked not-null in the database schema.  See the
  'Nullability' type for the value-level representation of field nullability.
-}</span><span>
</span><span id="line-247"></span><span class="hs-keyword">data</span><span> </span><span id="NotNull"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-var">NotNull</span></a></span></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">{- |
  'Nullable' is a values-less type used to track that a 'FieldDefinition'
  represents a field that is marked nullable in the database schema. See the
  'Nullability' type for the value-level representation of field nullability.
-}</span><span>
</span><span id="line-254"></span><span class="hs-keyword">data</span><span> </span><span id="Nullable"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Int32' values as the
  PostgreSQL &quot;INT&quot; type.
-}</span><span>
</span><span id="line-260"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#integerField"><span class="hs-identifier hs-type">integerField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-264"></span><span id="integerField"><span class="annot"><span class="annottext">integerField :: String -&gt; FieldDefinition NotNull Int32
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#integerField"><span class="hs-identifier hs-var hs-var">integerField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Int32 -&gt; String -&gt; FieldDefinition NotNull Int32
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Int32
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#integer"><span class="hs-identifier hs-var">SqlType.integer</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Int16' values as the
  PostgreSQL &quot;SMALLINT&quot; type.
-}</span><span>
</span><span id="line-270"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#smallIntegerField"><span class="hs-identifier hs-type">smallIntegerField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span>
</span><span id="line-274"></span><span id="smallIntegerField"><span class="annot"><span class="annottext">smallIntegerField :: String -&gt; FieldDefinition NotNull Int16
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#smallIntegerField"><span class="hs-identifier hs-var hs-var">smallIntegerField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Int16 -&gt; String -&gt; FieldDefinition NotNull Int16
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Int16
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#smallInteger"><span class="hs-identifier hs-var">SqlType.smallInteger</span></a></span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores an 'Int32' value as the &quot;SERIAL&quot;
  type. This can be used to create auto-incrementing columns.
-}</span><span>
</span><span id="line-280"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#serialField"><span class="hs-identifier hs-type">serialField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-284"></span><span id="serialField"><span class="annot"><span class="annottext">serialField :: String -&gt; FieldDefinition NotNull Int32
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#serialField"><span class="hs-identifier hs-var hs-var">serialField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Int32 -&gt; String -&gt; FieldDefinition NotNull Int32
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Int32
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#serial"><span class="hs-identifier hs-var">SqlType.serial</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Int64' values as the
  PostgreSQL &quot;BIGINT&quot; type.
-}</span><span>
</span><span id="line-290"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigIntegerField"><span class="hs-identifier hs-type">bigIntegerField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-292"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-294"></span><span id="bigIntegerField"><span class="annot"><span class="annottext">bigIntegerField :: String -&gt; FieldDefinition NotNull Int64
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigIntegerField"><span class="hs-identifier hs-var hs-var">bigIntegerField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Int64 -&gt; String -&gt; FieldDefinition NotNull Int64
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Int64
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#bigInteger"><span class="hs-identifier hs-var">SqlType.bigInteger</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores an 'Int64' value as the &quot;BIGSERIAL&quot;
  type. This can be used to create auto-incrementing columns.
-}</span><span>
</span><span id="line-300"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigSerialField"><span class="hs-identifier hs-type">bigSerialField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-304"></span><span id="bigSerialField"><span class="annot"><span class="annottext">bigSerialField :: String -&gt; FieldDefinition NotNull Int64
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#bigSerialField"><span class="hs-identifier hs-var hs-var">bigSerialField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Int64 -&gt; String -&gt; FieldDefinition NotNull Int64
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Int64
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#bigSerial"><span class="hs-identifier hs-var">SqlType.bigSerial</span></a></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores a 'Double' value as the &quot;DOUBLE
  PRECISION&quot; type. Note: PostgreSQL's &quot;DOUBLE PRECISION&quot; type only allows for
  up to 15 digits of precision, so some rounding may occur when values are
  stored in the database.
-}</span><span>
</span><span id="line-312"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#doubleField"><span class="hs-identifier hs-type">doubleField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-315"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-316"></span><span id="doubleField"><span class="annot"><span class="annottext">doubleField :: String -&gt; FieldDefinition NotNull Double
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#doubleField"><span class="hs-identifier hs-var hs-var">doubleField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Double -&gt; String -&gt; FieldDefinition NotNull Double
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Double
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#double"><span class="hs-identifier hs-var">SqlType.double</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Bool' values as the
  PostgreSQL &quot;BOOLEAN&quot; type.
-}</span><span>
</span><span id="line-322"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#booleanField"><span class="hs-identifier hs-type">booleanField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-324"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-326"></span><span id="booleanField"><span class="annot"><span class="annottext">booleanField :: String -&gt; FieldDefinition NotNull Bool
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#booleanField"><span class="hs-identifier hs-var hs-var">booleanField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Bool -&gt; String -&gt; FieldDefinition NotNull Bool
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Bool
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#boolean"><span class="hs-identifier hs-var">SqlType.boolean</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'T.Text' values as the
  PostgreSQL &quot;TEXT&quot; type. Note that this PostgreSQL has no particular
  limit on the length of text stored.
-}</span><span>
</span><span id="line-333"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#unboundedTextField"><span class="hs-identifier hs-type">unboundedTextField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-336"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-337"></span><span id="unboundedTextField"><span class="annot"><span class="annottext">unboundedTextField :: String -&gt; FieldDefinition NotNull Text
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#unboundedTextField"><span class="hs-identifier hs-var hs-var">unboundedTextField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Text -&gt; String -&gt; FieldDefinition NotNull Text
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Text
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#unboundedText"><span class="hs-identifier hs-var">SqlType.unboundedText</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'T.Text' values as the
  PostgreSQL &quot;VARCHAR&quot; type. Attempting to store a value beyond the length
  specified will cause an error.

  -- TODO: We should have a test for this.
-}</span><span>
</span><span id="line-346"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#boundedTextField"><span class="hs-identifier hs-type">boundedTextField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-comment">-- | Maximum length of text in the field</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-352"></span><span id="boundedTextField"><span class="annot"><span class="annottext">boundedTextField :: String -&gt; Int32 -&gt; FieldDefinition NotNull Text
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#boundedTextField"><span class="hs-identifier hs-var hs-var">boundedTextField</span></a></span></span><span> </span><span id="local-6989586621679118081"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118081"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679118080"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679118080"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Text -&gt; String -&gt; FieldDefinition NotNull Text
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; SqlType Text
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#boundedText"><span class="hs-identifier hs-var">SqlType.boundedText</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679118080"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118081"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'T.Text' values as the
  PostgreSQL &quot;CHAR&quot; type. Attempting to store a value beyond the length
  specified will cause an error. Storing a value that is not the full
  length of the field will result in padding by the database.

  -- TODO: We should have a test for this.
-}</span><span>
</span><span id="line-362"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fixedTextField"><span class="hs-identifier hs-type">fixedTextField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-comment">-- | Maximum length of text in the field</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-368"></span><span id="fixedTextField"><span class="annot"><span class="annottext">fixedTextField :: String -&gt; Int32 -&gt; FieldDefinition NotNull Text
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fixedTextField"><span class="hs-identifier hs-var hs-var">fixedTextField</span></a></span></span><span> </span><span id="local-6989586621679118078"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118078"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679118077"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679118077"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Text -&gt; String -&gt; FieldDefinition NotNull Text
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; SqlType Text
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#fixedText"><span class="hs-identifier hs-var">SqlType.fixedText</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679118077"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118078"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">{- |
  TODO: write meaningful docs for this when we build a better Haskell
  definition for representing text search vectors.
-}</span><span>
</span><span id="line-374"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#textSearchVectorField"><span class="hs-identifier hs-type">textSearchVectorField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-375"></span><span id="textSearchVectorField"><span class="annot"><span class="annottext">textSearchVectorField :: String -&gt; FieldDefinition NotNull Text
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#textSearchVectorField"><span class="hs-identifier hs-var hs-var">textSearchVectorField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Text -&gt; String -&gt; FieldDefinition NotNull Text
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Text
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#textSearchVector"><span class="hs-identifier hs-var">SqlType.textSearchVector</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Time.Day' values as the
  PostgreSQL &quot;DATE&quot; type.
-}</span><span>
</span><span id="line-381"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#dateField"><span class="hs-identifier hs-type">dateField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-383"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.Day</span></span><span>
</span><span id="line-385"></span><span id="dateField"><span class="annot"><span class="annottext">dateField :: String -&gt; FieldDefinition NotNull Day
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#dateField"><span class="hs-identifier hs-var hs-var">dateField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType Day -&gt; String -&gt; FieldDefinition NotNull Day
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType Day
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#date"><span class="hs-identifier hs-var">SqlType.date</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Time.UTCTime values as the
  PostgreSQL &quot;TIMESTAMP with time zone&quot; type.
-}</span><span>
</span><span id="line-391"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#utcTimestampField"><span class="hs-identifier hs-type">utcTimestampField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-394"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.UTCTime</span></span><span>
</span><span id="line-395"></span><span id="utcTimestampField"><span class="annot"><span class="annottext">utcTimestampField :: String -&gt; FieldDefinition NotNull UTCTime
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#utcTimestampField"><span class="hs-identifier hs-var hs-var">utcTimestampField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType UTCTime -&gt; String -&gt; FieldDefinition NotNull UTCTime
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType UTCTime
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#timestamp"><span class="hs-identifier hs-var">SqlType.timestamp</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'Time.UTCTime values as the
  PostgreSQL &quot;TIMESTAMP without time zone&quot; type.
-}</span><span>
</span><span id="line-401"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#localTimestampField"><span class="hs-identifier hs-type">localTimestampField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Time.LocalTime</span></span><span>
</span><span id="line-405"></span><span id="localTimestampField"><span class="annot"><span class="annottext">localTimestampField :: String -&gt; FieldDefinition NotNull LocalTime
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#localTimestampField"><span class="hs-identifier hs-var hs-var">localTimestampField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType LocalTime -&gt; String -&gt; FieldDefinition NotNull LocalTime
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType LocalTime
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#timestampWithoutZone"><span class="hs-identifier hs-var">SqlType.timestampWithoutZone</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' that stores Haskell 'UUID.UUID' values as the
  PostgreSQL &quot;UUID&quot; type.
-}</span><span>
</span><span id="line-411"></span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#uuidField"><span class="hs-identifier hs-type">uuidField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-412"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-414"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UUID.UUID</span></span><span>
</span><span id="line-415"></span><span id="uuidField"><span class="annot"><span class="annottext">uuidField :: String -&gt; FieldDefinition NotNull UUID
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#uuidField"><span class="hs-identifier hs-var hs-var">uuidField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType UUID -&gt; String -&gt; FieldDefinition NotNull UUID
forall a. SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var">fieldOfType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType UUID
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#uuid"><span class="hs-identifier hs-var">SqlType.uuid</span></a></span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">{- |
  Builds a 'FieldDefinition' for will use the given 'SqlType' to determine
  the database representation of the field. If you have created a custom
  'SqlType', you can use this function to construct a helper like the
  other functions in this module for creating 'FieldDefinition's for your
  custom type.
-}</span><span>
</span><span id="line-424"></span><span id="local-6989586621679118259"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-type">fieldOfType</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-comment">-- | 'SqlType' that represents the PostgreSQL data type for the field.</span><span>
</span><span id="line-426"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118259"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-comment">-- | Name of the field in the database</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118259"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-430"></span><span id="fieldOfType"><span class="annot"><span class="annottext">fieldOfType :: SqlType a -&gt; String -&gt; FieldDefinition NotNull a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldOfType"><span class="hs-identifier hs-var hs-var">fieldOfType</span></a></span></span><span> </span><span id="local-6989586621679118070"><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118070"><span class="hs-identifier hs-var">sqlType</span></a></span></span><span> </span><span id="local-6989586621679118069"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118069"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition :: forall nullability a.
FieldName
-&gt; SqlType a
-&gt; NullabilityGADT nullability
-&gt; Maybe (DefaultValue a)
-&gt; Maybe String
-&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldName :: FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var">i_fieldName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#stringToFieldName"><span class="hs-identifier hs-var">stringToFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118069"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldType :: SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var">i_fieldType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118070"><span class="hs-identifier hs-var">sqlType</span></a></span><span>
</span><span id="line-434"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldNullability :: NullabilityGADT NotNull
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var">i_fieldNullability</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NullabilityGADT NotNull
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNullGADT"><span class="hs-identifier hs-var">NotNullGADT</span></a></span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (DefaultValue a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDescription :: Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var">i_fieldDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-437"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-comment">{- |
  Makes a 'NotNull' field 'Nullable' by wrapping the Haskell type of the field
  in 'Maybe'. The field will be marked as 'NULL' in the database schema and
  the value 'Nothing' will be used to represent 'NULL' values when converting
  to and from sql.
-}</span><span>
</span><span id="line-445"></span><span id="local-6989586621679118068"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#nullableField"><span class="hs-identifier hs-type">nullableField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NotNull"><span class="hs-identifier hs-type">NotNull</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118068"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679118068"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-446"></span><span id="nullableField"><span class="annot"><span class="annottext">nullableField :: FieldDefinition NotNull a -&gt; FieldDefinition Nullable (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#nullableField"><span class="hs-identifier hs-var hs-var">nullableField</span></a></span></span><span> </span><span id="local-6989586621679118067"><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><a href="#local-6989586621679118067"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679118243"><span class="annot"><a href="#local-6989586621679118066"><span class="hs-identifier hs-type">nullableType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118243"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679118243"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-448"></span><span>      </span><span id="local-6989586621679118066"><span class="annot"><span class="annottext">nullableType :: SqlType a -&gt; SqlType (Maybe a)
</span><a href="#local-6989586621679118066"><span class="hs-identifier hs-var hs-var">nullableType</span></a></span></span><span> </span><span id="local-6989586621679118065"><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118065"><span class="hs-identifier hs-var">sqlType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-449"></span><span>        </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118065"><span class="hs-identifier hs-var">sqlType</span></a></span><span>
</span><span id="line-450"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sqlTypeToSql :: Maybe a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeToSql"><span class="hs-identifier hs-var">SqlType.sqlTypeToSql</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlValue -&gt; (a -&gt; SqlValue) -&gt; Maybe a -&gt; SqlValue
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlValue.html#sqlNull"><span class="hs-identifier hs-var">SqlValue.sqlNull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqlType a -&gt; a -&gt; SqlValue
forall a. SqlType a -&gt; a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeToSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeToSql</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118065"><span class="hs-identifier hs-var">sqlType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sqlTypeFromSql :: SqlValue -&gt; Either String (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeFromSql"><span class="hs-identifier hs-var">SqlType.sqlTypeFromSql</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-452"></span><span>              </span><span class="hs-glyph">\</span><span id="local-6989586621679118062"><span class="annot"><span class="annottext">SqlValue
</span><a href="#local-6989586621679118062"><span class="hs-identifier hs-var">sqlValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-453"></span><span>                </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SqlValue -&gt; Bool
</span><a href="Orville.PostgreSQL.Internal.SqlValue.html#isSqlNull"><span class="hs-identifier hs-var">SqlValue.isSqlNull</span></a></span><span> </span><span class="annot"><span class="annottext">SqlValue
</span><a href="#local-6989586621679118062"><span class="hs-identifier hs-var">sqlValue</span></a></span><span>
</span><span id="line-454"></span><span>                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Either String (Maybe a)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-455"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Either String a -&gt; Either String (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlValue -&gt; Either String a
forall a. SqlType a -&gt; SqlValue -&gt; Either String a
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeFromSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeFromSql</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118065"><span class="hs-identifier hs-var">sqlType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlValue
</span><a href="#local-6989586621679118062"><span class="hs-identifier hs-var">sqlValue</span></a></span><span>
</span><span id="line-456"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-457"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FieldDefinition :: forall nullability a.
FieldName
-&gt; SqlType a
-&gt; NullabilityGADT nullability
-&gt; Maybe (DefaultValue a)
-&gt; Maybe String
-&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldName :: FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var">i_fieldName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a -&gt; FieldName
forall nullability a. FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><a href="#local-6989586621679118067"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldType :: SqlType (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var">i_fieldType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlType (Maybe a)
forall a. SqlType a -&gt; SqlType (Maybe a)
</span><a href="#local-6989586621679118066"><span class="hs-identifier hs-var">nullableType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition NotNull a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var">fieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><a href="#local-6989586621679118067"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldNullability :: NullabilityGADT Nullable
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var">i_fieldNullability</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NullabilityGADT Nullable
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableGADT"><span class="hs-identifier hs-var">NullableGADT</span></a></span><span>
</span><span id="line-461"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue (Maybe a))
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DefaultValue a -&gt; DefaultValue (Maybe a))
-&gt; Maybe (DefaultValue a) -&gt; Maybe (DefaultValue (Maybe a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">DefaultValue a -&gt; DefaultValue (Maybe a)
forall a b. DefaultValue a -&gt; DefaultValue b
</span><a href="Orville.PostgreSQL.Internal.DefaultValue.html#coerceDefaultValue"><span class="hs-identifier hs-var">coerceDefaultValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition NotNull a -&gt; Maybe (DefaultValue a)
forall nullability a.
FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><a href="#local-6989586621679118067"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDescription :: Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var">i_fieldDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a -&gt; Maybe String
forall nullability a. FieldDefinition nullability a -&gt; Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDescription"><span class="hs-identifier hs-var">fieldDescription</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull a
</span><a href="#local-6989586621679118067"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-463"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">{- |
  Adds a `Maybe` wrapper to a field that is already nullable. (If your field is
  'NotNull', you wanted 'nullableField' instead of this function). Note that
  fields created using this function have asymetric encoding and decoding of
  'NULL' values. Because the provided field is 'Nullable', 'NULL' values decode
  from the database already have a representation in the 'a' type, so 'NULL'
  will be decoded as 'Just &lt;value of type a for NULL&gt;'. This means if you
  insert a 'Nothing' value using the field, it will be read back as 'Just'
  value. This is useful for building high level combinators that might need to
  make fields 'Nullable' but need the value to be decoded in its underlying
  type when reading back (e.g. 'maybeMapper' from 'SqlMarshaller').
-}</span><span>
</span><span id="line-477"></span><span id="local-6989586621679118059"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#asymmetricNullableField"><span class="hs-identifier hs-type">asymmetricNullableField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118059"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679118059"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-478"></span><span id="asymmetricNullableField"><span class="annot"><span class="annottext">asymmetricNullableField :: FieldDefinition Nullable a -&gt; FieldDefinition Nullable (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#asymmetricNullableField"><span class="hs-identifier hs-var hs-var">asymmetricNullableField</span></a></span></span><span> </span><span id="local-6989586621679118058"><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><a href="#local-6989586621679118058"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679118057"><span class="annot"><a href="#local-6989586621679118056"><span class="hs-identifier hs-type">nullableType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118057"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679118057"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-480"></span><span>      </span><span id="local-6989586621679118056"><span class="annot"><span class="annottext">nullableType :: SqlType a -&gt; SqlType (Maybe a)
</span><a href="#local-6989586621679118056"><span class="hs-identifier hs-var hs-var">nullableType</span></a></span></span><span> </span><span id="local-6989586621679118055"><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118055"><span class="hs-identifier hs-var">sqlType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-481"></span><span>        </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118055"><span class="hs-identifier hs-var">sqlType</span></a></span><span>
</span><span id="line-482"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sqlTypeToSql :: Maybe a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeToSql"><span class="hs-identifier hs-var">SqlType.sqlTypeToSql</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlValue -&gt; (a -&gt; SqlValue) -&gt; Maybe a -&gt; SqlValue
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlValue.html#sqlNull"><span class="hs-identifier hs-var">SqlValue.sqlNull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqlType a -&gt; a -&gt; SqlValue
forall a. SqlType a -&gt; a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeToSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeToSql</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118055"><span class="hs-identifier hs-var">sqlType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sqlTypeFromSql :: SqlValue -&gt; Either String (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeFromSql"><span class="hs-identifier hs-var">SqlType.sqlTypeFromSql</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679118054"><span class="annot"><span class="annottext">SqlValue
</span><a href="#local-6989586621679118054"><span class="hs-identifier hs-var">sqlValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Either String a -&gt; Either String (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlValue -&gt; Either String a
forall a. SqlType a -&gt; SqlValue -&gt; Either String a
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#sqlTypeFromSql"><span class="hs-identifier hs-var hs-var">SqlType.sqlTypeFromSql</span></a></span><span> </span><span class="annot"><span class="annottext">SqlType a
</span><a href="#local-6989586621679118055"><span class="hs-identifier hs-var">sqlType</span></a></span><span> </span><span class="annot"><span class="annottext">SqlValue
</span><a href="#local-6989586621679118054"><span class="hs-identifier hs-var">sqlValue</span></a></span><span>
</span><span id="line-484"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-485"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FieldDefinition :: forall nullability a.
FieldName
-&gt; SqlType a
-&gt; NullabilityGADT nullability
-&gt; Maybe (DefaultValue a)
-&gt; Maybe String
-&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span>
</span><span id="line-486"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldName :: FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var">i_fieldName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a -&gt; FieldName
forall nullability a. FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><a href="#local-6989586621679118058"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-487"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldType :: SqlType (Maybe a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var">i_fieldType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlType (Maybe a)
forall a. SqlType a -&gt; SqlType (Maybe a)
</span><a href="#local-6989586621679118056"><span class="hs-identifier hs-var">nullableType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition Nullable a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldType"><span class="hs-identifier hs-var">fieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><a href="#local-6989586621679118058"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldNullability :: NullabilityGADT Nullable
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldNullability"><span class="hs-identifier hs-var">i_fieldNullability</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NullabilityGADT Nullable
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#NullableGADT"><span class="hs-identifier hs-var">NullableGADT</span></a></span><span>
</span><span id="line-489"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue (Maybe a))
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DefaultValue a -&gt; DefaultValue (Maybe a))
-&gt; Maybe (DefaultValue a) -&gt; Maybe (DefaultValue (Maybe a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">DefaultValue a -&gt; DefaultValue (Maybe a)
forall a b. DefaultValue a -&gt; DefaultValue b
</span><a href="Orville.PostgreSQL.Internal.DefaultValue.html#coerceDefaultValue"><span class="hs-identifier hs-var">coerceDefaultValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition Nullable a -&gt; Maybe (DefaultValue a)
forall nullability a.
FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><a href="#local-6989586621679118058"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDescription :: Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDescription"><span class="hs-identifier hs-var">i_fieldDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a -&gt; Maybe String
forall nullability a. FieldDefinition nullability a -&gt; Maybe String
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldDescription"><span class="hs-identifier hs-var">fieldDescription</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition Nullable a
</span><a href="#local-6989586621679118058"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-491"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="hs-comment">{- |
  Applies a 'SqlType.SqlType' conversion to a 'FieldDefinition'. You can
  use this function the create 'FieldDefinition's for based on the primitive
  ones provided, but with more specific Haskell types.

  See 'SqlType.convertSqlType' and 'SqlType.tryConvertSqlType' for functions
  to create the conversion needed as the first argument to 'convertField'.
-}</span><span>
</span><span id="line-501"></span><span id="local-6989586621679118230"><span id="local-6989586621679118231"><span id="local-6989586621679118232"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#convertField"><span class="hs-identifier hs-type">convertField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.SqlType.html#SqlType"><span class="hs-identifier hs-type">SqlType.SqlType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118231"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-503"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118230"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-504"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118230"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118231"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-505"></span><span id="convertField"><span class="annot"><span class="annottext">convertField :: (SqlType a -&gt; SqlType b)
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability b
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#convertField"><span class="hs-identifier hs-var hs-var">convertField</span></a></span></span><span> </span><span id="local-6989586621679118053"><span class="annot"><span class="annottext">SqlType a -&gt; SqlType b
</span><a href="#local-6989586621679118053"><span class="hs-identifier hs-var">conversion</span></a></span></span><span> </span><span id="local-6989586621679118052"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118052"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118052"><span class="hs-identifier hs-var">fieldDef</span></a></span><span>
</span><span id="line-507"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldType :: SqlType b
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var">i_fieldType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlType a -&gt; SqlType b
</span><a href="#local-6989586621679118053"><span class="hs-identifier hs-var">conversion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; SqlType a
forall nullability a. FieldDefinition nullability a -&gt; SqlType a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldType"><span class="hs-identifier hs-var hs-var">i_fieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118052"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue b)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DefaultValue a -&gt; DefaultValue b)
-&gt; Maybe (DefaultValue a) -&gt; Maybe (DefaultValue b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">DefaultValue a -&gt; DefaultValue b
forall a b. DefaultValue a -&gt; DefaultValue b
</span><a href="Orville.PostgreSQL.Internal.DefaultValue.html#coerceDefaultValue"><span class="hs-identifier hs-var">coerceDefaultValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
forall nullability a.
FieldDefinition nullability a -&gt; Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118052"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="hs-comment">{- |
  A specialization of 'convertField' that can be used with types that implement
  'Coere.Coercible'. This is particularly useful for newtype wrappers around
  primitive types.
-}</span><span>
</span><span id="line-516"></span><span id="local-6989586621679118049"><span id="local-6989586621679118050"><span id="local-6989586621679118051"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#coerceField"><span class="hs-identifier hs-type">coerceField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Coerce.Coercible</span></span><span> </span><span class="annot"><a href="#local-6989586621679118051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118050"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Coerce.Coercible</span></span><span> </span><span class="annot"><a href="#local-6989586621679118050"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118051"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118049"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118051"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-519"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118049"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118050"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-520"></span><span id="coerceField"><span class="annot"><span class="annottext">coerceField :: FieldDefinition nullability a -&gt; FieldDefinition nullability b
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#coerceField"><span class="hs-identifier hs-var hs-var">coerceField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-521"></span><span>  </span><span class="annot"><span class="annottext">(SqlType a -&gt; SqlType b)
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability b
forall a b nullability.
(SqlType a -&gt; SqlType b)
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability b
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#convertField"><span class="hs-identifier hs-var">convertField</span></a></span><span>
</span><span id="line-522"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; (a -&gt; b) -&gt; SqlType a -&gt; SqlType b
forall b a. (b -&gt; a) -&gt; (a -&gt; b) -&gt; SqlType a -&gt; SqlType b
</span><a href="Orville.PostgreSQL.Internal.SqlType.html#convertSqlType"><span class="hs-identifier hs-var">SqlType.convertSqlType</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><span class="hs-identifier hs-var">Coerce.coerce</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier hs-var">Coerce.coerce</span></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">{- |
  Sets a default value for the field. The default value will be added as part
  of the column definition in the database. Because the default value is
  ultimately provided by the database this can be used to add a not-null column
  to safely to an existing table as long as a reasonable default value is
  available to use.
-}</span><span>
</span><span id="line-531"></span><span id="local-6989586621679118046"><span id="local-6989586621679118047"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setDefaultValue"><span class="hs-identifier hs-type">setDefaultValue</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-532"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.DefaultValue.html#DefaultValue"><span class="hs-identifier hs-type">DefaultValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118047"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118046"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118047"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-534"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118046"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118047"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-535"></span><span id="setDefaultValue"><span class="annot"><span class="annottext">setDefaultValue :: DefaultValue a
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setDefaultValue"><span class="hs-identifier hs-var hs-var">setDefaultValue</span></a></span></span><span> </span><span id="local-6989586621679118045"><span class="annot"><span class="annottext">DefaultValue a
</span><a href="#local-6989586621679118045"><span class="hs-identifier hs-var">defaultValue</span></a></span></span><span> </span><span id="local-6989586621679118044"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118044"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118044"><span class="hs-identifier hs-var">fieldDef</span></a></span><span>
</span><span id="line-537"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultValue a -&gt; Maybe (DefaultValue a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">DefaultValue a
</span><a href="#local-6989586621679118045"><span class="hs-identifier hs-var">defaultValue</span></a></span><span>
</span><span id="line-538"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span class="hs-comment">{- |
  Removes any default value that may have been set on a field via
  @setDefaultValue@.
-}</span><span>
</span><span id="line-544"></span><span id="local-6989586621679118042"><span id="local-6989586621679118043"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#removeDefaultValue"><span class="hs-identifier hs-type">removeDefaultValue</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-545"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118043"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118042"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-546"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118043"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118042"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-547"></span><span id="removeDefaultValue"><span class="annot"><span class="annottext">removeDefaultValue :: FieldDefinition nullability a -&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#removeDefaultValue"><span class="hs-identifier hs-var hs-var">removeDefaultValue</span></a></span></span><span> </span><span id="local-6989586621679118041"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118041"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-548"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118041"><span class="hs-identifier hs-var">fieldDef</span></a></span><span>
</span><span id="line-549"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldDefaultValue :: Maybe (DefaultValue a)
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldDefaultValue"><span class="hs-identifier hs-var">i_fieldDefaultValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (DefaultValue a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-550"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-comment">{- |
  Adds a prefix, followed by an underscore, to a field's name.
-}</span><span>
</span><span id="line-555"></span><span id="local-6989586621679118039"><span id="local-6989586621679118040"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#prefixField"><span class="hs-identifier hs-type">prefixField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-557"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118040"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118039"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118040"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118039"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-559"></span><span id="prefixField"><span class="annot"><span class="annottext">prefixField :: String
-&gt; FieldDefinition nullability a -&gt; FieldDefinition nullability a
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#prefixField"><span class="hs-identifier hs-var hs-var">prefixField</span></a></span></span><span> </span><span id="local-6989586621679118038"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118038"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679118037"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118037"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-560"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118037"><span class="hs-identifier hs-var">fieldDef</span></a></span><span>
</span><span id="line-561"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">i_fieldName :: FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#i_fieldName"><span class="hs-identifier hs-var">i_fieldName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldName"><span class="hs-identifier hs-var">FieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ByteString
</span><span class="hs-identifier hs-var">B8.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679118038"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; ByteString
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldNameToByteString"><span class="hs-identifier hs-var">fieldNameToByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; FieldName
forall nullability a. FieldDefinition nullability a -&gt; FieldName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118037"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="hs-comment">{- |
  Constructs a 'Expr.SetClause' that will set the column named in the
  field definition to the given value. The value is be converted to SQL
  value using 'fieldValueToSqlValue'
-}</span><span>
</span><span id="line-569"></span><span id="local-6989586621679118210"><span id="local-6989586621679118211"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setField"><span class="hs-identifier hs-type">setField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118211"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118210"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679118210"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.Update.SetClause.html#SetClause"><span class="hs-identifier hs-type">Expr.SetClause</span></a></span></span></span><span>
</span><span id="line-570"></span><span id="setField"><span class="annot"><span class="annottext">setField :: FieldDefinition nullability a -&gt; a -&gt; SetClause
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setField"><span class="hs-identifier hs-var hs-var">setField</span></a></span></span><span> </span><span id="local-6989586621679118036"><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118036"><span class="hs-identifier hs-var">fieldDef</span></a></span></span><span> </span><span id="local-6989586621679118035"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679118035"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-571"></span><span>  </span><span class="annot"><span class="annottext">ColumnName -&gt; SqlValue -&gt; SetClause
</span><a href="Orville.PostgreSQL.Internal.Expr.Update.SetClause.html#setColumn"><span class="hs-identifier hs-var">Expr.setColumn</span></a></span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; ColumnName
forall nullability a. FieldDefinition nullability a -&gt; ColumnName
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldColumnName"><span class="hs-identifier hs-var">fieldColumnName</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118036"><span class="hs-identifier hs-var">fieldDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; a -&gt; SqlValue
forall nullability a.
FieldDefinition nullability a -&gt; a -&gt; SqlValue
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#fieldValueToSqlValue"><span class="hs-identifier hs-var">fieldValueToSqlValue</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a
</span><a href="#local-6989586621679118036"><span class="hs-identifier hs-var">fieldDef</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679118035"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span class="hs-comment">{- |
  Operator alias for 'setField'
-}</span><span>
</span><span id="line-578"></span><span id="local-6989586621679118032"><span id="local-6989586621679118033"><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#.%3A%3D"><span class="hs-operator hs-type">(.:=)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#FieldDefinition"><span class="hs-identifier hs-type">FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118033"><span class="hs-identifier hs-type">nullability</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679118032"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679118032"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.Expr.Update.SetClause.html#SetClause"><span class="hs-identifier hs-type">Expr.SetClause</span></a></span></span></span><span>
</span><span id="line-579"></span><span id=".%3A%3D"><span class="annot"><span class="annottext">.:= :: FieldDefinition nullability a -&gt; a -&gt; SetClause
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#.%3A%3D"><span class="hs-operator hs-var hs-var">(.:=)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition nullability a -&gt; a -&gt; SetClause
forall nullability a.
FieldDefinition nullability a -&gt; a -&gt; SetClause
</span><a href="Orville.PostgreSQL.Internal.FieldDefinition.html#setField"><span class="hs-identifier hs-var">setField</span></a></span><span>
</span><span id="line-580"></span></pre></body></html>